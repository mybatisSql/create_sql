<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="js/global.js"></script>
		<script src="js/map.js"></script>
		<script src="js/index.js"></script>
		<style type="text/css">
			table td {
				height: 30px;
				border: #C7DDEF 1px solid;
				width: 144px;
				color: black;
				font-size: 15px;
			}
			.textarea{
				font-size:18px
			}
			
			#entity { 
				width: 100%;
		        overflow: auto;
		        word-break: break-all; /*解决兼容问题*/
			} 
			#reasonInfoTr{
				position: relative;
				float: left;
				top: -604px;
				right: -271px;
				color: #000000;
				text-decoration: none;
				/*background-color:transparent;背景透明*/
				background-color:whitesmoke;
			}
		</style>
		
	</head>

	<body background="img/20677594_174232068000_2.jpg">
		<table style="margin-top: 20px; margin-left: 20px; margin-right: 20px;">
			<tr>
				<td>
					<table id="allRoles" style="width: 250px;">
						<tr>
							<td style="text-align: center;"><strong><h4>实体</h4></strong></td>
						</tr>
						<tr>
							<td>
								<textarea  name="" id="entity" title="点击复制文字"  class="textarea"  onmouseout="setEntity(true)" style="width: 250px;height: 600px;"></textarea>
							</td>
						</tr>
					</table>
				</td>
				<td style="text-align:center">
					表名<br/>
					<form id="formDemo">
						<input class="easyui-textbox" id="tables" data-options="required : true" style="width: 80px;" />
					</form>
					<br />
					<br />
					<a href="javascript:insertEntity()" class="easyui-linkbutton" style="width: 80px;">添加sql</a>
					<br />
					<br />
					<a href="javascript:deleteEntity()" class="easyui-linkbutton" style="width: 80px;">删除sql</a>
					<br />
					<br />
					<a href="javascript:updateEntity()" class="easyui-linkbutton" style="width: 80px;">修改sql</a>
					<br />
					<br />
					<a href="javascript:selectEntity()" class="easyui-linkbutton" style="width: 80px;">查询sql</a>
					<br />
					<br />
					<a href="javascript:mapperEntity()" class="easyui-linkbutton" style="width: 80px;">映射sql</a>
				</td>
				<td>
					<table id="allRoles" style="width: 340px;">
						<tr>
							<td style="text-align: center;"><strong><h4>SQL语句</h4></strong></td>
							<td style="text-align: center;"><strong><h4>条件</h4></strong></td>
						</tr>
						<tr>
							<td>
								<textarea name="" id="sqls" class="textarea" style="width: 340px;height: 600px;"></textarea>
								<a href="javascript:copyFn()" id="reasonInfoTr" class="easyui-linkbutton"><span id="copy">一键复制</span></a>
							</td>
							<td >
								<p id="entity_tr" style="width: 150px;height:600px;overflow: auto;"></p>
							</td>
						</tr>
					</table>
				</td>
			</tr>
			<tr>
				<td colspan="3" style="border: 0px; text-align: center; font-size: 14px;">
					<font style="color: #009900;">下载最新版<br/>
						网页版：https://github.com/mybatisSql/create_sql.git<br />
						PC版：
					</font>
				</td>
			</tr>
		</table>
		
	</body>
	<script type="text/javascript">
		$(function(){
			$("#sqls").bind('input propertychange','textarea',function () {
				var str=$("#sqls").val();
					if(str.length>0){
						$("#reasonInfoTr").show();
					}else{
						$("#reasonInfoTr").hide();
					}
			});
		})
 		
	    	//一键复制
	   		 function copyFn() {
				var dd = $('#sqls');
			        dd[0].select();
			        document.execCommand("Copy");
			        $("#copy").text("复制成功")
			}
	   		 //进入时隐藏一键复制按钮
			$(function(){
				$("#reasonInfoTr").hide();
			}) 
			//显示一键复制按钮
			function shows(){
				var str=$("#sqls").val();
				if(str.length>0){
					$("#reasonInfoTr").show();
				}
			}
			//隐藏一键复制按钮
			function hides(){
				var str=$("#sqls").val();
				if(str.length==0){
					$("#reasonInfoTr").hide();
				}
			}
	</script>

</html>